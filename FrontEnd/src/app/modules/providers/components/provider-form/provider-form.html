<!-- ======================================================================= -->
<!--             FORMULARIO DE PROVEEDORES - DISEÑO UNIFICADO              -->
<!-- ======================================================================= -->
<div class="min-h-screen w-full bg-neutral-light dark:bg-dark-background font-sans flex items-center justify-center p-4 overflow-hidden relative transition-colors duration-500">
  <!-- Formas animadas en el fondo -->
  <div class="absolute top-0 left-0 w-72 h-72 bg-secondary/30 dark:bg-secondary/20 rounded-full filter blur-3xl opacity-50 animate-blob"></div>
  <div class="absolute top-0 right-5 w-96 h-96 bg-primary/30 dark:bg-primary/20 rounded-full filter blur-3xl opacity-50 animate-blob animation-delay-2000"></div>
  <div class="absolute bottom-0 left-20 w-80 h-80 bg-accent-green/30 dark:bg-accent-green/20 rounded-full filter blur-3xl opacity-50 animate-blob animation-delay-4000"></div>

  <div class="w-full max-w-3xl animate-fade-in-up z-10">
    <form [formGroup]="providerForm" (ngSubmit)="saveProvider()" novalidate class="form-container">
      
      <!-- Componente de Notificación -->
      <div *ngIf="notification.show" class="notification" [ngClass]="{
        'notification-success': notification.type === 'success',
        'notification-error': notification.type === 'error'
      }">
        <div class="flex items-center">
          <svg *ngIf="notification.type === 'success'" class="h-6 w-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
          <svg *ngIf="notification.type === 'error'" class="h-6 w-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" /></svg>
          <span>{{ notification.message }}</span>
        </div>
        <button type="button" (click)="hideNotification()" class="ml-4 -mr-1 p-1"><svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></button>
      </div>

      <!-- Encabezado del Formulario -->
      <div class="text-center mb-10">
        <h1 class="text-4xl font-bold tracking-tight">
          <span class="form-header-gradient">Registro de Proveedor</span>
        </h1>
        <p class="text-text-dark/70 dark:text-dark-text/70 mt-3 max-w-md mx-auto">
          Ingresa la información detallada para formalizar un nuevo socio comercial.
        </p>
      </div>

      <!-- Sección: Datos de la Empresa -->
      <h2 class="form-section-header animate-form-field" style="--delay: 100ms;">
        Datos de la Empresa
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
        <div class="relative animate-form-field" style="--delay: 200ms;">
          <div class="relative group">
            <span class="form-icon-wrapper"><svg class="form-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg></span>
            <input type="text" id="nombreEmpresa" formControlName="nombreEmpresa" class="form-input-field peer" placeholder=" ">
            <label for="nombreEmpresa" class="form-label">Nombre de la Empresa</label>
          </div>
          <p *ngIf="providerForm.get('nombreEmpresa')?.invalid && providerForm.get('nombreEmpresa')?.touched" class="form-error-message">
            El nombre es requerido (mín. 3 caracteres).
          </p>
        </div>
        <div class="relative animate-form-field" style="--delay: 250ms;">
          <div class="relative group">
            <span class="form-icon-wrapper"><svg class="form-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 18a2.25 2.25 0 002.25 2.25h10.5A2.25 2.25 0 0019.5 18V6a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6v12zm11.25-4.5h.008v.008h-.008v-.008zm-9.75 0h.008v.008h-.008v-.008z" /></svg></span>
            <input type="text" id="ruc" formControlName="ruc" class="form-input-field peer" placeholder=" ">
            <label for="ruc" class="form-label">RUC / ID Fiscal</label>
          </div>
          <p *ngIf="providerForm.get('ruc')?.invalid && providerForm.get('ruc')?.touched" class="form-error-message">
            El RUC es requerido (11 dígitos).
          </p>
        </div>
      </div>

      <!-- Sección: Información de Contacto -->
      <h2 class="form-section-header animate-form-field" style="--delay: 400ms;">
        Información de Contacto
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
        <div class="relative animate-form-field" style="--delay: 500ms;">
          <div class="relative group">
            <span class="form-icon-wrapper"><svg class="form-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" /></svg></span>
            <input type="text" id="contactoNombre" formControlName="contactoNombre" class="form-input-field peer" placeholder=" ">
            <label for="contactoNombre" class="form-label">Persona de Contacto</label>
          </div>
          <p *ngIf="providerForm.get('contactoNombre')?.invalid && providerForm.get('contactoNombre')?.touched" class="form-error-message">
            La persona de contacto es requerida.
          </p>
        </div>
        <div class="relative animate-form-field" style="--delay: 600ms;">
          <div class="relative group">
            <span class="form-icon-wrapper"><svg class="form-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7 2a2 2 0 00-2 2v12a2 2 0 002 2h6a2 2 0 002-2V4a2 2 0 00-2-2H7zm3 14a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" /></svg></span>
            <input type="tel" id="telefono" formControlName="telefono" class="form-input-field peer" placeholder=" ">
            <label for="telefono" class="form-label">Teléfono</label>
          </div>
          <p *ngIf="providerForm.get('telefono')?.invalid && providerForm.get('telefono')?.touched" class="form-error-message">
            Teléfono inválido (9 dígitos).
          </p>
        </div>
        <div class="md:col-span-2 relative animate-form-field" style="--delay: 700ms;">
          <div class="relative group">
            <span class="form-icon-wrapper"><svg class="form-icon" viewBox="0 0 20 20" fill="currentColor"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" /><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" /></svg></span>
            <input type="email" id="email" formControlName="email" class="form-input-field peer" placeholder=" ">
            <label for="email" class="form-label">Correo Electrónico</label>
          </div>
          <p *ngIf="providerForm.get('email')?.invalid && providerForm.get('email')?.touched" class="form-error-message">
            Debe ingresar un correo electrónico válido.
          </p>
        </div>
      </div>
      
      <!-- Acciones del Formulario -->
      <div class="form-actions-container animate-form-field" style="--delay: 800ms;">
        <button type="submit" [disabled]="isSubmitting || providerForm.invalid" class="btn-primary">
          <svg *ngIf="isSubmitting" class="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
          <svg *ngIf="!isSubmitting" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
          <span>{{ isSubmitting ? 'Guardando...' : 'Crear Proveedor' }}</span>
        </button>
        <button type="button" (click)="goBack()" class="btn-secondary">Cancelar</button>
      </div>
    </form>
  </div>
</div>